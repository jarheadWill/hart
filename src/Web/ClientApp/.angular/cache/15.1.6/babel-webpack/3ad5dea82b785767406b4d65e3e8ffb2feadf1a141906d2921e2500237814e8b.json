{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@services/inventory.service\";\nexport class HomeComponent {\n  ngOnInit() {\n    this.startTimer();\n  }\n  ngOnDestroy() {\n    this.subscriptions.forEach(x => x.unsubscribe());\n  }\n  constructor(inventoryService) {\n    this.inventoryService = inventoryService;\n    this.subscriptions = [];\n    this.timeLeft = 10;\n    this.inventory = [];\n    this.timerComplete = false;\n  }\n  startTimer() {\n    this.interval = setInterval(() => {\n      if (this.timeLeft > 0) {\n        this.timeLeft--;\n      } else {\n        this.getInventory();\n        let timer = this.inventoryService.timerComplete().subscribe(result => this.timerComplete == result);\n        this.subscriptions.push(timer);\n        this.timeLeft = 10;\n      }\n    }, 1000);\n  }\n  getInventory() {\n    let sub = this.inventoryService.getInventory().subscribe(result => this.inventory == result);\n    this.subscriptions.push(sub);\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.InventoryService));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 6,\n  vars: 2,\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"home works!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"p\");\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"p\");\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"\", ctx.timeLeft, \" Seconds Left....\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"The timer is complete: \", ctx.timerComplete, \"\");\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;AAUA,OAAM,MAAOA,aAAa;EAOxBC,QAAQ;IACN,IAAI,CAACC,UAAU,EAAE;EACnB;EAEAC,WAAW;IACT,IAAI,CAACC,aAAa,CAACC,OAAO,CAACC,CAAC,IAAIA,CAAC,CAACC,WAAW,EAAE,CAAC;EAClD;EAEAC,YAAoBC,gBAAkC;IAAlC,qBAAgB,GAAhBA,gBAAgB;IAdpC,kBAAa,GAAmB,EAAE;IAElC,aAAQ,GAAW,EAAE;IACrB,cAAS,GAAc,EAAE;IACzB,kBAAa,GAAG,KAAK;EAWrB;EAEAP,UAAU;IACR,IAAI,CAACQ,QAAQ,GAAGC,WAAW,CAAC,MAAK;MAC/B,IAAG,IAAI,CAACC,QAAQ,GAAG,CAAC,EAAE;QACpB,IAAI,CAACA,QAAQ,EAAE;OAChB,MAAM;QACL,IAAI,CAACC,YAAY,EAAE;QACnB,IAAIC,KAAK,GAAG,IAAI,CAACL,gBAAgB,CAACM,aAAa,EAAE,CAACC,SAAS,CAACC,MAAM,IAAI,IAAI,CAACF,aAAa,IAAIE,MAAM,CAAC;QACnG,IAAI,CAACb,aAAa,CAACc,IAAI,CAACJ,KAAK,CAAC;QAC9B,IAAI,CAACF,QAAQ,GAAG,EAAE;;IAEtB,CAAC,EAAC,IAAI,CAAC;EACT;EAEAC,YAAY;IACV,IAAIM,GAAG,GAAG,IAAI,CAACV,gBAAgB,CAACI,YAAY,EAAE,CAACG,SAAS,CAACC,MAAM,IAAI,IAAI,CAACG,SAAS,IAAIH,MAAM,CAAC;IAC5F,IAAI,CAACb,aAAa,CAACc,IAAI,CAACC,GAAG,CAAC;EAC9B;;AAlCWnB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAqB;EAAAC;EAAAC;EAAAC;IAAA;MCV1BC,yBAAG;MAAAA,2BAAW;MAAAA,iBAAI;MAClBA,yBAAG;MAAAA,YAA6B;MAAAA,iBAAI;MACpCA,yBAAG;MAAAA,YAAwC;MAAAA,iBAAI;;;MAD5CA,eAA6B;MAA7BA,4DAA6B;MAC7BA,eAAwC;MAAxCA,uEAAwC","names":["HomeComponent","ngOnInit","startTimer","ngOnDestroy","subscriptions","forEach","x","unsubscribe","constructor","inventoryService","interval","setInterval","timeLeft","getInventory","timer","timerComplete","subscribe","result","push","sub","inventory","selectors","decls","vars","template","i0"],"sourceRoot":"","sources":["/Users/will/Projects/Hart/Web/ClientApp/src/app/pages/home/home.component.ts","/Users/will/Projects/Hart/Web/ClientApp/src/app/pages/home/home.component.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {Product} from \"@models/product.type\";\nimport {InventoryService} from \"@services/inventory.service\";\nimport {Subscription} from \"rxjs\";\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit{\n  subscriptions: Subscription[] = [];\n  interval: any;\n  timeLeft: number = 10;\n  inventory: Product[] = [];\n  timerComplete = false;\n\n  ngOnInit(): void {\n    this.startTimer();\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.forEach(x => x.unsubscribe());\n  }\n\n  constructor(private inventoryService: InventoryService) {\n  }\n\n  startTimer() {\n    this.interval = setInterval(() => {\n      if(this.timeLeft > 0) {\n        this.timeLeft--;\n      } else {\n        this.getInventory()\n        let timer = this.inventoryService.timerComplete().subscribe(result => this.timerComplete == result);\n        this.subscriptions.push(timer);\n        this.timeLeft = 10;\n      }\n    },1000)\n  }\n\n  getInventory() {\n    let sub = this.inventoryService.getInventory().subscribe(result => this.inventory == result);\n    this.subscriptions.push(sub);\n  }\n}\n","<p>home works!</p>\n<p>{{timeLeft}} Seconds Left....</p>\n<p>The timer is complete: {{timerComplete}}</p>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}